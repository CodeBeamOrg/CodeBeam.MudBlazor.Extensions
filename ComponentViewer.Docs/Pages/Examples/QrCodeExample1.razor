@using ZXing;

<MudGrid>
    <MudItem xs="12" sm="8" Class="d-flex justify-center">
        <MudQrCode @ref="_qrCode" @bind-Value="_qrValue" Width="_width" Height="_height" BarcodeFormat="_barcodeFormat" Clickable="_clickable" />
    </MudItem>

    <MudItem xs="12" sm="4">
        <MudStack Spacing="4">
            <MudTextField T="string" @bind-Value="_qrValue" Label="Value" Variant="Variant.Outlined" Immediate="true" Margin="Margin.Dense" />
            <MudNumericField @bind-Value="_width" Label="Width" Variant="Variant.Outlined" Margin="Margin.Dense" />
            <MudNumericField @bind-Value="_height" Label="Height" Variant="Variant.Outlined" Margin="Margin.Dense" />
            <MudSelectExtended ItemCollection="@(Enum.GetValues<BarcodeFormat>())" @bind-Value="_barcodeFormat" Label="Barcode Format" Variant="Variant.Outlined" Margin="Margin.Dense" Dense="true" />
            <MudText Color="Color.Error">@(_qrCode.ErrorText == null ? null : "Error: " + _qrCode.ErrorText)</MudText>
            <MudSwitchM3 @bind-Checked="_clickable" Color="Color.Secondary" Label="Clickable" />
        </MudStack>
    </MudItem>
</MudGrid>

@code {
    MudQrCode _qrCode;
    string _qrValue;
    int _width = 200;
    int _height = 200;
    BarcodeFormat _barcodeFormat = BarcodeFormat.QR_CODE;
    bool _clickable = false;
}
