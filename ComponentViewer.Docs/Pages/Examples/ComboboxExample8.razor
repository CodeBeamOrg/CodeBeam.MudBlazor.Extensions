@using Microsoft.AspNetCore.Components
@using MudBlazor.Extensions

<MudGrid>
    <MudItem xs="12" Class="d-flex gap-4 align-center justify-center">
        <MudComboBox @bind-Value="@_value" @bind-Text="@_text" @bind-SelectedValues="@_selectedValues" Variant="Variant.Filled"
            Label="Standard (Contains)" Editable="true"  autocomplete="new-password">
            <MudComboBoxItem Value="@("Foo")" Text="Foo">Foo</MudComboBoxItem>
            <MudComboBoxItem Value="@("Bar")" Text="Bar">Bar</MudComboBoxItem>
            <MudComboBoxItem Value="@("Fizz")" Text="Fizz">Fizz</MudComboBoxItem>
            <MudComboBoxItem Value="@("Buzz")" Text="Buzz">Buzz</MudComboBoxItem>
        </MudComboBox>
        <MudComboBox @bind-Value="@_value" @bind-Text="@_text" @bind-SelectedValues="@_selectedValues" Variant="Variant.Filled" ToggleSelection="true"
                     Label="Custom (StartsWith)" Editable="true" SearchFunc="@(new Func<string, string, string, bool>(SearchStartWith))" autocomplete="new-password">
            <MudComboBoxItem Value="@("Foo")" Text="Foo">Foo</MudComboBoxItem>
            <MudComboBoxItem Value="@("Bar")" Text="Bar">Bar</MudComboBoxItem>
            <MudComboBoxItem Value="@("Fizz")" Text="Fizz">Fizz</MudComboBoxItem>
            <MudComboBoxItem Value="@("Buzz")" Text="Buzz">Buzz</MudComboBoxItem>
        </MudComboBox>
    </MudItem>
</MudGrid>

@code{
    string _value;
    string _text;
    IEnumerable<string> _selectedValues;

    private bool SearchStartWith(string value, string text, string searchString)
    {
        if (value.StartsWith(searchString, StringComparison.CurrentCultureIgnoreCase))
        {
            return true;
        }
        return false;
    }
}